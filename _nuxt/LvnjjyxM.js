import{n as h,i as y,t as p,a as A,b as g}from"./ChPQOj64.js";import{Y as b,r as L}from"./CXDyPuCf.js";function _(n){var t;const e=p(n);return(t=e==null?void 0:e.$el)!=null?t:e}const w=g?window:void 0;function m(...n){let t,e,o,l;if(typeof n[0]=="string"||Array.isArray(n[0])?([e,o,l]=n,t=w):[t,e,o,l]=n,!t)return h;Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);const u=[],c=()=>{u.forEach(i=>i()),u.length=0},d=(i,a,f,v)=>(i.addEventListener(a,f,v),()=>i.removeEventListener(a,f,v)),s=b(()=>[_(t),p(l)],([i,a])=>{if(c(),!i)return;const f=y(a)?{...a}:a;u.push(...e.flatMap(v=>o.map(E=>d(i,v,E,f))))},{immediate:!0,flush:"post"}),r=()=>{s(),c()};return A(r),r}function O(n={}){var t;const{window:e=w,deep:o=!0}=n,l=(t=n.document)!=null?t:e==null?void 0:e.document,u=()=>{var s;let r=l==null?void 0:l.activeElement;if(o)for(;r!=null&&r.shadowRoot;)r=(s=r==null?void 0:r.shadowRoot)==null?void 0:s.activeElement;return r},c=L(),d=()=>{c.value=u()};return e&&(m(e,"blur",s=>{s.relatedTarget===null&&d()},!0),m(e,"focus",d,!0)),d(),c}export{m as a,_ as b,O as u};
