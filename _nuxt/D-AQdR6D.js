import{W as m,X as d,aA as b,G as S}from"./CQrA55M0.js";function h(t){return m()?(d(t),!0):!1}function W(t){let n=0,o,e;const i=()=>{n-=1,e&&n<=0&&(e.stop(),o=void 0,e=void 0)};return(...r)=>(n+=1,o||(e=b(!0),o=e.run(()=>t(...r))),h(i),o)}function l(t){return typeof t=="function"?t():S(t)}const g=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const y=Object.prototype.toString,x=t=>y.call(t)==="[object Object]",f=()=>{};function j(t,n){function o(...e){return new Promise((i,r)=>{Promise.resolve(t(()=>n.apply(this,e),{fn:n,thisArg:this,args:e})).then(i).catch(r)})}return o}function T(t,n={}){let o,e,i=f;const r=s=>{clearTimeout(s),i(),i=f};return s=>{const a=l(t),c=l(n.maxWait);return o&&r(o),a<=0||c!==void 0&&c<=0?(e&&(r(e),e=null),Promise.resolve(s())):new Promise((u,p)=>{i=n.rejectOnCancel?p:u,c&&!e&&(e=setTimeout(()=>{o&&r(o),e=null,u(s())},c)),o=setTimeout(()=>{e&&r(e),e=null,u(s())},a)})}}function C(t,n=200,o={}){return j(T(n,o),t)}export{h as a,g as b,W as c,x as i,f as n,l as t,C as u};
